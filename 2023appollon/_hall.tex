\begin{tikzpicture}[scale=0.5]

\def\shift{+3.0}
\def\dyb{1.6}
\def\eta{6.0}
\def\aa{1.0}
\def\bb{1.0}
\def\xmax{+8.}

\def\xbza{2.0}
\def\ybza{0.95}
\def\xbzb{6.0}
\def\ybzb{1.6}

\def\dyja{1.3}
\def\dyjb{0.6}
\def\zeta{6.0}
\def\shiftja{+3.0}
\def\shiftjb{+3.4}
\def\xmaxj{+7.}
\def\xminj{+1.}

\def\xea{+7.0}
\def\yea{+2.8}
\def\xeb{+7.6}
\def\yeb{+2.0}

\def\xec{0.2*\shift}
\def\yec{0.4*\dyb}

\tikzset{declare function={bline_tl(\x)=+\dyb-\eta*\bb+\bb*sqrt(\eta*\eta+((-\x-\shift)/\aa)^2);}}
\tikzset{declare function={bline_tr(\x)=+\dyb-\eta*\bb+\bb*sqrt(\eta*\eta+((+\x-\shift)/\aa)^2);}}
\tikzset{declare function={bline_bl(\x)=-\dyb+\eta*\bb-\bb*sqrt(\eta*\eta+((-\x-\shift)/\aa)^2);}}
\tikzset{declare function={bline_br(\x)=-\dyb+\eta*\bb-\bb*sqrt(\eta*\eta+((+\x-\shift)/\aa)^2);}}

\tikzset{arrowplus/.pic = {\draw[very thick] (0, 0) circle (3pt);
                           \draw[very thick] (0, 0) circle (0.5pt); }
        }

\tikzset{arrowminus/.pic = {\draw[very thick] (0, 0) circle (3pt);
                            \draw[very thick] ( 0.0,-0.1) -- ( 0.0,+0.1);
                            \draw[very thick] (-0.1, 0.0) -- (+0.1, 0.0);}
        }

\tikzset{declare function={jlinea_tl(\x)=+\dyja-\zeta*\bb+\bb*sqrt(\zeta*\eta+((-\x-\shiftja)/\aa)^2);}}
\tikzset{declare function={jlineb_tl(\x)=+\dyjb-\zeta*\bb+\bb*sqrt(\zeta*\eta+((-\x-\shiftjb)/\aa)^2);}}
\tikzset{declare function={jlinea_tr(\x)=+\dyja-\zeta*\bb+\bb*sqrt(\zeta*\eta+((+\x-\shiftja)/\aa)^2);}}
\tikzset{declare function={jlineb_tr(\x)=+\dyjb-\zeta*\bb+\bb*sqrt(\zeta*\eta+((+\x-\shiftjb)/\aa)^2);}}
\tikzset{declare function={jlinea_bl(\x)=-\dyja+\zeta*\bb-\bb*sqrt(\zeta*\eta+((-\x-\shiftja)/\aa)^2);}}
\tikzset{declare function={jlineb_bl(\x)=-\dyjb+\zeta*\bb-\bb*sqrt(\zeta*\eta+((-\x-\shiftjb)/\aa)^2);}}
\tikzset{declare function={jlinea_br(\x)=-\dyja+\zeta*\bb-\bb*sqrt(\zeta*\eta+((+\x-\shiftja)/\aa)^2);}}
\tikzset{declare function={jlineb_br(\x)=-\dyjb+\zeta*\bb-\bb*sqrt(\zeta*\eta+((+\x-\shiftjb)/\aa)^2);}}

\tikzset{frame/.pic = {\draw[very thick, ->] (0.0, 0.0) -- ( 0.5, 0.0);
                       \node at ( 0.7, 0.0) {$x$};
                       \draw[very thick, ->] (0.0, 0.0) -- ( 0.0, 0.5);
                       \node at ( 0.0, 0.7) {$y$};
                       \draw[very thick, ->] (0.0, 0.0) -- (-0.4,-0.4);
                       \node at (-0.6,-0.6) {$z$};}
        }

%B field in xy plane
\draw[very thick, olive,   -] (-\shift, \dyb) -- (0, \dyb);
\draw [domain=-\xmax:-\shift, very thick, olive,  -] plot(\x, {bline_tl(\x)});

\draw[very thick, olive,  ->] (\shift, \dyb) -- (0, \dyb);
\draw [domain=\shift:\xmax, very thick, olive,  -] plot(\x, {bline_tr(\x)});

\draw[very thick, olive,  ->] (-\shift, -\dyb) -- (0, -\dyb);
\draw [domain=-\xmax:-\shift, very thick, olive,  -] plot(\x, {bline_bl(\x)});

\draw[very thick, olive,   -] (\shift, -\dyb) -- (0, -\dyb);
\draw [domain=\shift:\xmax, very thick, olive,  -] plot(\x, {bline_br(\x)});

%B field along z
\path[very thick, olive] (-\xbza,+\ybza) pic{arrowplus};
\path[very thick, olive] (+\xbza,+\ybza) pic{arrowminus};
\path[very thick, olive] (-\xbza,-\ybza) pic{arrowminus};
\path[very thick, olive] (+\xbza,-\ybza) pic{arrowplus};

\path[very thick, olive] (-\xbzb,+\ybzb) pic{arrowplus};
\path[very thick, olive] (+\xbzb,+\ybzb) pic{arrowminus};
\path[very thick, olive] (-\xbzb,-\ybzb) pic{arrowminus};
\path[very thick, olive] (+\xbzb,-\ybzb) pic{arrowplus};

%J field in xy plane
\draw [domain=-\xmaxj:-\shift, very thick, black,  -] plot(\x, {jlinea_tl(\x)});
\draw [very thick, black,  ->] (-\xminj,  \dyja) -- (-\shift, \dyja);
\draw [domain=-\shift:-\xmaxj, very thick, black, <-] plot(\x, {jlineb_tl(\x)});
\draw [very thick, black,   -] (-\shift,  \dyjb) -- (-\xminj,  \dyjb);

\draw [domain= \xmaxj: \shift, very thick, black,  -] plot(\x, {jlinea_tr(\x)});
\draw [very thick, black,  ->] ( \xminj,  \dyja) -- ( \shift, \dyja);
\draw [domain= \shift: \xmaxj, very thick, black, <-] plot(\x, {jlineb_tr(\x)});
\draw [very thick, black,   -] ( \shift,  \dyjb) -- ( \xminj,  \dyjb);

\draw [domain=-\xmaxj:-\shift, very thick, black,  -] plot(\x, {jlinea_bl(\x)});
\draw [very thick, black,  ->] (-\xminj,-\dyja) -- (-\shift, -\dyja);
\draw [domain=-\shift:-\xmaxj, very thick, black, <-] plot(\x, {jlineb_bl(\x)});
\draw [very thick, black,   -] (-\shift, -\dyjb) -- (-\xminj, -\dyjb);

\draw [domain= \xmaxj: \shift, very thick, black,  -] plot(\x, {jlinea_br(\x)});
\draw [very thick, black,  ->] ( \xminj, -\dyja) -- ( \shift, -\dyja);
\draw [domain= \shift: \xmaxj, very thick, black, <-] plot(\x, {jlineb_br(\x)});
\draw [very thick, black,   -] ( \shift, -\dyjb) -- ( \xminj, -\dyjb);

%J field along z
\path[very thick, black] (-5, 0) pic{arrowplus};
\path[very thick, black] (-3, 0) pic{arrowplus};
\path[very thick, black] (-1, 0) pic{arrowplus};
\path[very thick, black] ( 1, 0) pic{arrowplus};
\path[very thick, black] ( 3, 0) pic{arrowplus};
\path[very thick, black] ( 5, 0) pic{arrowplus};

%E field in the XY plane
\draw [very thick, brown, ->] (-\xea, \yea) -- (-\xeb, \yeb);
\draw [very thick, brown, ->] ( \xea, \yea) -- ( \xeb, \yeb);
\draw [very thick, brown, ->] (-\xea,-\yea) -- (-\xeb,-\yeb);
\draw [very thick, brown, ->] ( \xea,-\yea) -- ( \xeb,-\yeb);

\draw [very thick, brown, ->] (-\xec, \dyb) -- (-\xec, \yec);
\draw [very thick, brown, ->] ( \xec, \dyb) -- ( \xec, \yec);
\draw [very thick, brown, ->] (-\xec,-\dyb) -- (-\xec,-\yec);
\draw [very thick, brown, ->] ( \xec,-\dyb) -- ( \xec,-\yec);

%J field along z
\path[very thick, brown] (-7, 0) pic{arrowminus};
\path[very thick, brown] ( 7, 0) pic{arrowminus};

\node[olive] at ( 6.3, 3.4) {$B$-field};
\node[black] at (-7.6, 1.0) {$J$-field};
\node[brown] at ( 7.2,-0.6) {$E$-field};

% axis
\path[very thick] (0.0,3.5) pic{frame};

\end{tikzpicture}
